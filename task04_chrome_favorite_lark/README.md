# Lark Bookmarks - 飞书书签收藏器

一个Chrome扩展，允许用户一键将网页收藏到飞书多维表格中。

## 功能特性

### 核心功能
- 🔖 **一键收藏** - 点击扩展图标即可收藏当前网页
- 🤖 **自动信息提取** - 自动获取网页标题、URL、描述、favicon
- 📊 **飞书集成** - 直接添加数据到指定的飞书多维表格
- 🏷️ **分类管理** - 支持添加标签或分类
- 👁️ **快速预览** - 收藏前可预览和编辑信息

### 扩展功能
- ⌨️ **快捷键支持** - `Ctrl+Shift+B` (Mac: `Cmd+Shift+B`) 快速收藏
- 📝 **文本摘录** - 选中文本内容收藏
- 🔄 **同步状态** - 显示收藏状态和同步进度
- 📚 **历史记录** - 查看最近收藏的记录
- 🎯 **右键菜单** - 页面和链接右键快速收藏

## 项目结构

```
task04_chrome_favorite_lark/
├── manifest.json          # 扩展配置文件
├── background/             # 后台服务脚本
│   └── service-worker.js
├── content/                # 内容脚本
│   └── content.js
├── popup/                  # 弹窗界面
│   ├── popup.html
│   ├── popup.css
│   └── popup.js
├── options/                # 设置页面
│   ├── options.html
│   ├── options.css
│   └── options.js
├── utils/                  # 工具函数
│   └── lark-api.js
├── icons/                  # 图标资源
│   ├── icon16.png
│   ├── icon32.png
│   ├── icon48.png
│   └── icon128.png
├── PRD.md                  # 产品需求文档
└── README.md               # 项目说明文档
```

## 技术架构

### 前端技术栈
- **Chrome Extension API** - Manifest V3
- **原生JavaScript** - 无框架依赖
- **现代CSS** - 响应式设计
- **飞书开放平台API** - 多维表格集成

### 核心组件
1. **Manifest V3配置** - 现代扩展标准
2. **Service Worker** - 后台处理和消息管理
3. **Content Script** - 页面内容提取和交互
4. **Popup界面** - 主要用户交互界面
5. **Options页面** - 设置和账户管理
6. **Lark API集成** - 飞书多维表格操作

## 安装使用

### 1. 准备工作
1. 访问 [飞书开放平台](https://open.feishu.cn/app)
2. 创建企业自建应用
3. 获取 App ID 和 App Secret
4. 申请"多维表格"相关权限

### 2. 安装扩展
1. 下载或克隆项目代码
2. 打开Chrome浏览器
3. 访问 `chrome://extensions/`
4. 开启"开发者模式"
5. 点击"加载已解压的扩展程序"
6. 选择项目根目录

### 3. 配置设置
1. 点击扩展图标，选择"设置"
2. 输入飞书应用的 App ID 和 App Secret
3. 完成飞书账户授权
4. 选择默认的多维表格

### 4. 开始使用
- **快速收藏**: 点击扩展图标或使用快捷键 `Ctrl+Shift+B`
- **文本摘录**: 选中文本后使用快捷键 `Ctrl+S` 或点击工具栏
- **右键收藏**: 在页面或链接上右键选择收藏选项

## 数据结构

收藏的书签将以以下格式保存到飞书多维表格：

```json
{
  "标题": "网页标题",
  "URL": "https://example.com",
  "描述": "网页描述或用户备注",
  "标签": ["技术", "学习"],
  "收藏时间": "2024-01-01 10:00:00",
  "状态": "已读/未读"
}
```

## 开发说明

### 开发环境
- Chrome浏览器 (最新版本)
- 代码编辑器 (推荐 VS Code)
- 飞书开发者账户

### 调试方法
1. 在 `chrome://extensions/` 页面重新加载扩展
2. 使用Chrome开发者工具调试
3. 查看扩展的服务工作线程日志
4. 检查popup和options页面的控制台

### API限制
- 飞书API有调用频率限制
- 单次批量操作建议不超过100条记录
- 请求失败时会自动重试一次

## 故障排除

### 常见问题
1. **无法登录飞书账户**
   - 检查App ID和App Secret是否正确
   - 确认应用权限配置
   - 检查网络连接

2. **收藏失败**
   - 验证表格权限
   - 检查表格字段结构
   - 查看API调用限制

3. **快捷键不生效**
   - 检查Chrome快捷键冲突
   - 确认扩展权限设置

### 技术支持
- GitHub Issues: [项目地址](https://github.com/your-repo/lark-bookmarks)
- 邮件支持: support@example.com

## 版本历史

### v1.0.0 (2024-01-01)
- ✨ 初始版本发布
- 🔖 基础收藏功能
- 📊 飞书多维表格集成
- ⌨️ 快捷键支持
- 🎯 右键菜单功能

## 许可证

本项目采用 MIT 许可证，详情请参见 LICENSE 文件。